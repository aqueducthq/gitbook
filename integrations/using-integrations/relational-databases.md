# Relational Databases

{% hint style="info" %}
Before starting, make sure you've added a connection to your database (see [adding-an-integration](../adding-an-integration/ "mention")).

In this guide, we'll use the Aqueduct Demo DB, but this guide will work for any relational database.
{% endhint %}

Most data scientists we've worked with start with some data in a relational database, so that's where we'll start too.&#x20;

First, we're going to get a connection to your database by calling `.integration()` on the Aqueduct Client.&#x20;

```python
demo_db = client.integration('aqueduct_demo')
```

### Reading From a DBMS

Once we have a connection to our database, we can simply call `.sql()` on the connection to execute a SQL query:

```python
customers = demo_db.sql('SELECT * FROM customers;')
```

This returns what we call an [**Artifact**](../../artifacts.md) **** in Aqueduct terminology. An artifact is simply just a wrapper around some data that we'll track a part of your workflow. You can call [Operators](../../operators.md) on your artifacts -- for more on this, see the guide on [Operators](../../operators.md) or [Workflows](../../workflows/).

{% hint style="warning" %}
Every SQL database has a slightly different dialect of SQL, and Aqueduct does not check for the correctness of your query.&#x20;

In order to validate that your query works correctly, call `.get()` on the artifact Aqueduct returns to you. If there's an error, you will be notified immediately.
{% endhint %}

### Writing to an RDBMS

In order to save an aritfact to a database, you can call `.save()` on the artifact. `.save()` expects information about which system to write the artifact to and what configuratin parameters are necessary. This configuration can be generated by calling `.config` on your integration object. For relational databases, the following parameters are required:

* `table`: the name of the table that will be created when this artifact is written into this database
* `update_mode`: this can be either `append`, `replace`, or `fail`:
  * `append`: In append mode, the data in this artifact will be appended to an existing table (if it exists); if the table does not exist, a new table will be created. If the existing schema does not match the schema of the new data, an error will be thrown.
  * `replace`: In replace mode, the an existing table of the same name will be completely wiped and replaced with the new data -- this mode does not require the old and new schemas to be compatible.
  * `fail`: In failure mode, the write operation will fail if a table of the same name already exists.

```python
customers.save(demo_db.config(table='customers_duplicate', save_mode='replace'))
```
